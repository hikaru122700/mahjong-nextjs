# 麻雀点数計算機 (Next.js版)

麻雀の点数を計算するWebアプリケーションです。Next.js + TypeScriptで実装されています。

## 機能

- 牌の選択（萬子、筒子、索子、字牌）
- 手牌13枚 + 和了牌1枚の入力
- 鳴き（チー・ポン・カン）の入力・削除
- 親/子の切り替えに応じた点数計算
- 和了形の自動判定
- 役の自動検出
- 翻数・符・点数の計算
- 各種条件設定（ツモ/ロン、場風、自風、リーチ、一発、門前）

## インストール

```bash
npm install
```

## 開発サーバーの起動

```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開きます。

## ビルド

```bash
npm run build
```

## 本番環境での実行

```bash
npm start
```

## Makefileのコマンド

`Makefile` に一般的な操作をまとめています。以下のコマンドを使うと便利です。

```bash
make init   # npm install と同等
make dev    # 開発サーバー起動 (npm run dev)
make build  # ビルド (npm run build)
make deploy # ビルド後の本番モード起動 (npm run start)
```

## プロジェクト構造

```
mahjong-nextjs/
├── app/
│   ├── layout.tsx       # レイアウトコンポーネント
│   ├── page.tsx         # メインページ
│   └── globals.css      # グローバルスタイル
├── lib/
│   └── mahjong.ts       # 麻雀ロジック（和了判定、点数計算）
├── package.json
├── tsconfig.json
└── next.config.ts
```

## 使い方

1. **牌を選択**: 画面上部の牌をクリックして手牌を選択します（最大13枚）
2. **和了牌を選択**: 13枚選択後、和了牌を1枚選択します
3. **条件設定**: 和了方法（ツモ/ロン）、場風、自風などを設定します
4. **計算**: 「点数を計算する」ボタンをクリック
5. **結果確認**: 翻数、符、点数、成立役が表示されます

## 対応している役

- リーチ、一発、門前清自摸和
- 平和、一盃口、二盃口
- 一気通貫、三色同順
- 断么九（タンヤオ）
- 混全帯么九、純全帯么九
- 役牌（三元牌、場風、自風）
- 七対子
- 対々和、三暗刻
- 混老頭、小三元
- 混一色、清一色
- 役満（国士無双、四暗刻、小四喜・大四喜、大三元、字一色、緑一色、清老頭、九蓮宝燈、天和・地和 など）

## 注意事項

- 符計算は一般的なルールをベースにしていますが、特殊なケースでは差異が出る可能性があります

## ライセンス

MIT
